<!-- productOffer.ejs -->
<div class="container">
    <a href="/admin/offerManagement" class="back-btn">← Back to offerPage</a>
    <h1>Create Product Offer</h1>
    <form id="productOfferForm">
        <div class="form-row">
            <label for="offerName">Offer Name:</label>
            <input type="text" id="offerName" name="offerName" placeholder="Enter offer name" >
            <span class="error-message" id="offerNameError"></span>
        </div>
        
        <div class="form-row">
            <label for="discountPercentage">Discount Percentage:</label>
            <input type="number" id="discountPercentage" name="discountPercentage" min="0" max="50" placeholder="Enter percentage">
            <span class="error-message" id="discountError"></span>
        </div>

        <div class="form-row two-columns">
            <div class="column">
                <label for="products">Select Products</label>
                <div class="search-container">
                    <input type="text" id="searchProducts" placeholder="Search products...">
                    <button type="button" class="clear-btn">Clear</button>
                </div>
                <div class="product-list">
                    <% if (products && products.length > 0) { %>
                        <% products.forEach(function(product) { %>
                            <label>
                                <input type="checkbox" name="selectedProducts" value="<%= product._id %>">
                                <%= product.productName %>
                            </label>
                        <% }); %>
                    <% } else { %>
                        <p>No products available for offer</p>
                    <% } %>
                </div>
                <span class="error-message" id="productError"></span>
            </div>

            <div class="column">
                <div class="right-column-content">
                    <div class="date-container">
                        <label for="expiryDate">Expiry Date</label>
                        <input type="date" id="expiryDate" name="expiryDate">
                        <span class="error-message" id="dateError"></span>
                    </div>
                    
                    <div class="selected-products">
                        <label>Selected Products</label>
                        <div class="selected-tags"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="create-btn">Create Product Offer</button>
        </div>
    </form>
</div>

<!-- editProductOffer.ejs -->
<div class="container">
    <a href="/admin/offerManagement" class="back-btn">← Back to offerPage</a>
    <h1>Edit Product Offer</h1>
    <form id="editProductOfferForm">
        <div class="form-row">
            <label for="offerName">Offer Name:</label>
            <input type="text" id="offerName" name="offerName" value="<%= offer.offerName %>" >
            <span class="error-message" id="offerNameError"></span>
        </div>
        
        <div class="form-row">
            <label for="discountPercentage">Discount Percentage:</label>
            <input type="number" id="discountPercentage" name="discountPercentage" min="0" max="50" value="<%= offer.discount %>">
            <span class="error-message" id="discountError"></span>
        </div>

        <div class="form-row two-columns">
            <div class="column">
                <label for="products">Select Products</label>
                <div class="search-container">
                    <input type="text" id="searchProducts" placeholder="Search products...">
                    <button type="button" class="clear-btn">Clear</button>
                </div>
                <div class="product-list">
                    <% if (products && products.length > 0) { %>
                        <% products.forEach(function(product) { %>
                            <label>
                                <input type="checkbox" name="selectedProducts" value="<%= product._id %>" 
                                       <%= offer.productIds.some(id => id.equals(product._id)) ? 'checked' : '' %>>
                                <%= product.productName %>
                            </label>
                        <% }); %>
                    <% } else { %>
                        <p>No products available for offer</p>
                    <% } %>
                </div>
                <span class="error-message" id="productError"></span>
            </div>

            <div class="column">
                <div class="right-column-content">
                    <div class="date-container">
                        <label for="expiryDate">Expiry Date</label>
                        <input type="date" id="expiryDate" name="expiryDate" value="<%= offer.expireDate.toISOString().split('T')[0] %>">
                        <span class="error-message" id="dateError"></span>
                    </div>
                    
                    <div class="selected-products">
                        <label>Selected Products</label>
                        <div class="selected-tags"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="update-btn">Update Product Offer</button>
        </div>
    </form>
</div>

<!-- Modifications to offerManagement.ejs table -->
<tbody>
    <% if (offers && offers.length > 0) { %>
        <% offers.forEach(offer => { %>
            <tr>
                <td><%= offer.offerName %></td>
                <td><%= offer.offerType %> Offer</td>
                <td><%= offer.discount %>%</td>
                <td><%= offer.formattedExpiryDate %></td>
                <td>
                    <% if (offer.status === 'Active') { %>
                        <span class="badge bg-success">Active</span>
                    <% } else if (offer.status === 'Expired') { %>
                        <span class="badge bg-danger">Expired</span>
                    <% } else { %>
                        <span class="badge bg-warning">Pending</span>
                    <% } %>
                </td>
                <td>
                    <div class="btn-group">
                        <button class="btn btn-info btn-sm dropdown